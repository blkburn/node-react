(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{133:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=[{title:"Website Re-Design Plan",startDate:new Date(2018,5,24,9,35),endDate:new Date(2018,5,25,11,30),id:0,location:"Room 1"},{title:"Book Flights to San Fran for Sales Trip",startDate:new Date(2018,5,25,0,11),endDate:new Date(2018,5,25,13,0),id:1,location:"Room 1"},{title:"Install New Router in Dev Room",startDate:new Date(2018,5,25,14,30),endDate:new Date(2018,5,25,15,35),id:2,location:"Room 2"},{title:"Approve Personal Computer Upgrade Plan",startDate:new Date(2018,5,26,10,0),endDate:new Date(2018,5,26,11,0),id:3,location:"Room 2"},{title:"Final Budget Review",startDate:new Date(2018,5,26,12,0),endDate:new Date(2018,5,26,13,35),id:4,location:"Room 2"},{title:"New Brochures",startDate:new Date(2018,5,26,14,30),endDate:new Date(2018,5,26,15,45),id:5,location:"Room 2"},{title:"Install New Database",startDate:new Date(2018,5,27,9,45),endDate:new Date(2018,5,27,11,15),id:6,location:"Room 1"},{title:"Approve New Online Marketing Strategy",startDate:new Date(2018,5,27,12,0),endDate:new Date(2018,5,27,14,0),id:7,location:"Room 3"},{title:"Upgrade Personal Computers",startDate:new Date(2018,5,27,15,15),endDate:new Date(2018,5,27,16,30),id:8,location:"Room 3"},{title:"Customer Workshop",startDate:new Date(2018,5,28,11,0),endDate:new Date(2018,5,28,12,0),id:9,location:"Room 3"},{title:"Prepare 2015 Marketing Plan",startDate:new Date(2018,5,28,11,0),endDate:new Date(2018,5,28,13,30),id:10,location:"Room 1"},{title:"Brochure Design Review",startDate:new Date(2018,5,28,14,0),endDate:new Date(2018,5,28,15,30),id:11,location:"Room 2"},{title:"Create Icons for Website",startDate:new Date(2018,5,29,10,0),endDate:new Date(2018,5,29,11,30),id:12,location:"Room 2"},{title:"Upgrade Server Hardware",startDate:new Date(2018,5,29,14,30),endDate:new Date(2018,5,29,16,0),id:13,location:"Room 3"},{title:"Submit New Website Design",startDate:new Date(2018,5,29,16,30),endDate:new Date(2018,5,29,18,0),id:14,location:"Room 3"},{title:"Launch New Website",startDate:new Date(2018,5,29,12,20),endDate:new Date(2018,5,29,14,0),id:15,location:"Room 2"},{title:"Website Re-Design Plan",startDate:new Date(2018,6,2,9,30),endDate:new Date(2018,6,2,15,30),id:16,location:"Room 1"},{title:"Book Flights to San Fran for Sales Trip",startDate:new Date(2018,6,2,12,0),endDate:new Date(2018,6,2,13,0),id:17,location:"Room 3"},{title:"Install New Router in Dev Room",startDate:new Date(2018,6,2,14,30),endDate:new Date(2018,6,2,17,30),id:18,location:"Room 2"},{title:"Approve Personal Computer Upgrade Plan",startDate:new Date(2018,6,2,16,0),endDate:new Date(2018,6,3,9,0),id:19,location:"Room 2"},{title:"Final Budget Review",startDate:new Date(2018,6,3,10,15),endDate:new Date(2018,6,3,13,35),id:20,location:"Room 1"},{title:"New Brochures",startDate:new Date(2018,6,3,14,30),endDate:new Date(2018,6,3,15,45),id:21,location:"Room 3"},{title:"Install New Database",startDate:new Date(2018,6,3,15,45),endDate:new Date(2018,6,4,12,15),id:22,location:"Room 3"},{title:"Approve New Online Marketing Strategy",startDate:new Date(2018,6,4,12,35),endDate:new Date(2018,6,4,14,15),id:23,location:"Room 3"},{title:"Upgrade Personal Computers",startDate:new Date(2018,6,4,15,15),endDate:new Date(2018,6,4,20,30),id:24,location:"Room 2"},{title:"Customer Workshop",startDate:new Date(2018,6,5,6,0),endDate:new Date(2018,6,5,14,20),id:25,location:"Room 1"},{title:"Customer Workshop",startDate:new Date(2018,6,5,14,35),endDate:new Date(2018,6,5,16,20),id:26,location:"Room 1"},{title:"Customer Workshop 2",startDate:new Date(2018,6,5,10,0),endDate:new Date(2018,6,5,11,20),id:27,location:"Room 2"},{title:"Prepare 2015 Marketing Plan",startDate:new Date(2018,6,5,20,0),endDate:new Date(2018,6,6,13,30),id:28,location:"Room 3"},{title:"Brochure Design Review",startDate:new Date(2018,6,6,14,10),endDate:new Date(2018,6,6,15,30),id:29,location:"Room 3"},{title:"Create Icons for Website",startDate:new Date(2018,6,6,10,0),endDate:new Date(2018,6,7,14,30),id:30,location:"Room 1"},{title:"Upgrade Server Hardware",startDate:new Date(2018,6,3,9,30),endDate:new Date(2018,6,3,12,25),id:31,location:"Room 2"},{title:"Submit New Website Design",startDate:new Date(2018,6,3,12,30),endDate:new Date(2018,6,3,18,0),id:32,location:"Room 2"},{title:"Launch New Website",startDate:new Date(2018,6,3,12,20),endDate:new Date(2018,6,3,14,10),id:33,location:"Room 2"},{title:"Book Flights to San Fran for Sales Trip",startDate:new Date(2018,5,26,0,0),endDate:new Date(2018,5,27,0,0),id:34,location:"Room 1"},{title:"Customer Workshop",startDate:new Date(2018,5,29,10,0),endDate:new Date(2018,5,30,14,30),id:35,location:"Room 1"},{title:"Google AdWords Strategy",startDate:new Date(2018,6,3,0,0),endDate:new Date(2018,6,4,10,30),id:36,location:"Room 3"},{title:"Rollout of New Website and Marketing Brochures",startDate:new Date(2018,6,5,10,0),endDate:new Date(2018,6,9,14,30),id:37,location:"Room 3"},{title:"Update NDA Agreement",startDate:new Date(2018,6,1,10,0),endDate:new Date(2018,6,3,14,30),id:38,location:"Room 2"},{title:"Customer Workshop",startDate:new Date(2018,6,1),endDate:new Date(2018,6,2),allDay:!0,id:39,location:"Room 1"}]},210:function(e,t,a){},211:function(e,t,a){},274:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(115),_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(94),_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17),_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(83),_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(32),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(89),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(279),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(281),_material_ui_core_ButtonGroup__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(280),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(192),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10),_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(278),_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(108),_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(107),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(20),clsx__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6),_devexpress_dx_react_scheduler__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(34),_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(26),_appointments__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(133),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(3),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__),_excluded=["classes","data","formatDate"],_excluded2=["classes"],_excluded3=["classes"],_excluded4=["classes"],ScheduleOld=function ScheduleOld(props){var rota=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.d)((function(e){return e.rota})),_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(""),_useState2=Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useState,2),appointments=_useState2[0],setAppointments=_useState2[1];Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){console.log(eval(rota.schedule))}),[rota.schedule]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){console.log(_appointments__WEBPACK_IMPORTED_MODULE_20__.a),setAppointments(_appointments__WEBPACK_IMPORTED_MODULE_20__.a)}),[]);var LOCATIONS=["Room 1","Room 2","Room 3"],LOCATIONS_SHORT=[1,2,3],resources=[{fieldName:"location",title:"Location",instances:[{id:LOCATIONS[0],text:LOCATIONS[0],color:_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_13__.a},{id:LOCATIONS[1],text:LOCATIONS[1],color:_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_14__.a},{id:LOCATIONS[2],text:LOCATIONS[2],color:_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_15__.a}]}],styles=function(e){var t=e.spacing,a=e.palette;return{flexibleSpace:{margin:"0 auto 0 0",display:"flex",alignItems:"center"},textField:{width:"75px",marginLeft:t(1),marginTop:0,marginBottom:0,height:t(4.875)},locationSelector:{marginLeft:t(1),height:t(4.875)},button:{paddingLeft:t(1),paddingRight:t(1),width:t(10),"@media (max-width: 800px)":{width:t(2),fontSize:"0.75rem"}},selectedButton:{background:a.primary[400],color:a.primary[50],"&:hover":{backgroundColor:a.primary[500]},border:"1px solid ".concat(a.primary[400],"!important"),borderLeft:"1px solid ".concat(a.primary[50],"!important"),"&:first-child":{borderLeft:"1px solid ".concat(a.primary[50],"!important")}},longButtonText:{"@media (max-width: 800px)":{display:"none"}},shortButtonText:{"@media (min-width: 800px)":{display:"none"}},title:{fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},textContainer:{lineHeight:1,whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},time:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"},text:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},container:{width:"100%"},weekendCell:{backgroundColor:Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__.a)(a.action.disabledBackground,.04),"&:hover":{backgroundColor:Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__.a)(a.action.disabledBackground,.04)},"&:focus":{backgroundColor:Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__.a)(a.action.disabledBackground,.04)}},weekEnd:{backgroundColor:Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__.a)(a.action.disabledBackground,.06)}}},AppointmentContent=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__.a)(styles,{name:"AppointmentContent"})((function(e){var t=e.classes,a=e.data,r=e.formatDate,n=Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.a)(e,_excluded);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.c.AppointmentContent,Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},n),{},{formatDate:r,data:a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:t.container,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:t.title,children:a.title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:t.text,children:a.location}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:t.textContainer,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:t.time,children:r(a.startDate,{hour:"numeric",minute:"numeric"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:t.time,children:" - "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:t.time,children:r(a.endDate,{hour:"numeric",minute:"numeric"})})]})]})}))})),Filter=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__.a)(styles,{name:"TextField"})((function(e){var t=e.onCurrentFilterChange,a=e.currentFilter,r=e.classes;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_9__.a,{placeholder:"Filter",className:r.textField,value:a,onChange:function(e){var a=e.target;return t(a.value)},variant:"outlined",hiddenLabel:!0,margin:"dense"})})),handleButtonClick=function(e,t){if(t.indexOf(e)>-1)return t.filter((function(t){return t!==e}));var a=Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(t);return a.push(e),a},getButtonClass=function(e,t,a){return e.indexOf(a)>-1&&t.selectedButton},LocationSelector=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__.a)(styles,{name:"LocationSelector"})((function(e){var t=e.onLocationsChange,a=e.locations,r=e.classes;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_material_ui_core_ButtonGroup__WEBPACK_IMPORTED_MODULE_10__.a,{className:r.locationSelector,children:LOCATIONS.map((function(e,n){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11__.a,{className:Object(clsx__WEBPACK_IMPORTED_MODULE_17__.a)(r.button,getButtonClass(a,r,e)),onClick:function(){return t(handleButtonClick(e,a))},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("span",{className:r.shortButtonText,children:LOCATIONS_SHORT[n]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("span",{className:r.longButtonText,children:e})]})},e)}))})})),FlexibleSpace=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__.a)(styles,{name:"FlexibleSpace"})((function(e){var t=e.classes,a=Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.a)(e,_excluded2);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.j.FlexibleSpace,Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},a),{},{className:t.flexibleSpace,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(ReduxFilterContainer,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(ReduxLocationSelector,{})]}))})),isRestTime=function(e){return 0===e.getDay()||6===e.getDay()||e.getHours()<9||e.getHours()>=18},TimeTableCell=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__.a)(styles,{name:"TimeTableCell"})((function(e){var t=e.classes,a=Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.a)(e,_excluded3),r=a.startDate;return isRestTime(r)?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.l.TimeTableCell,Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},a),{},{className:t.weekendCell})):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.l.TimeTableCell,Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},a))})),DayScaleCell=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__.a)(styles,{name:"DayScaleCell"})((function(e){var t=e.classes,a=Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.a)(e,_excluded4),r=a.startDate;return 0===r.getDay()||6===r.getDay()?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.l.DayScaleCell,Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},a),{},{className:t.weekEnd})):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.l.DayScaleCell,Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},a))})),SCHEDULER_STATE_CHANGE_ACTION="SCHEDULER_STATE_CHANGE",SchedulerContainer=function(e){var t=e.data,a=e.currentDate,r=e.onCurrentDateChange,n=e.currentViewName,c=e.onCurrentViewNameChange;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.h,{data:t,height:660,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler__WEBPACK_IMPORTED_MODULE_18__.q,{currentDate:a,onCurrentDateChange:r,currentViewName:n,onCurrentViewNameChange:c}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.e,{startDayHour:0,endDayHour:24}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.l,{startDayHour:0,endDayHour:24,timeTableCellComponent:TimeTableCell,dayScaleCellComponent:DayScaleCell}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.c,{appointmentContentComponent:AppointmentContent}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.g,{data:resources}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.j,{flexibleSpaceComponent:FlexibleSpace}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.d,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.i,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.k,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_devexpress_dx_react_scheduler_material_ui__WEBPACK_IMPORTED_MODULE_19__.b,{showOpenButton:!0,showCloseButton:!0})]})})},schedulerInitialState={data:_appointments__WEBPACK_IMPORTED_MODULE_20__.a,currentDate:"2018-06-27",currentViewName:"Week",currentFilter:"",locations:LOCATIONS},schedulerReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:schedulerInitialState,t=arguments.length>1?arguments[1]:void 0;return t.type===SCHEDULER_STATE_CHANGE_ACTION?Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},e),{},Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},t.payload.partialStateName,t.payload.partialStateValue)):e},createSchedulerAction=function(e,t){return{type:SCHEDULER_STATE_CHANGE_ACTION,payload:{partialStateName:e,partialStateValue:t}}},mapStateToProps=function(e){var t=e.data.filter((function(t){return e.locations.indexOf(t.location)>-1})),a=e.currentFilter.toLowerCase();return t=t.filter((function(e){return e.title.toLowerCase().includes(a)||e.location.toLowerCase().includes(a)})),Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_craig_Documents_code_node_react_rotaV2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},e),{},{data:t})},mapDispatchToProps=function(e){return{onCurrentDateChange:function(t){return e(createSchedulerAction("currentDate",t))},onCurrentViewNameChange:function(t){return e(createSchedulerAction("currentViewName",t))},onCurrentFilterChange:function(t){return e(createSchedulerAction("currentFilter",t))},onLocationsChange:function(t){return e(createSchedulerAction("locations",t))}}},ReduxSchedulerContainer=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.b)(mapStateToProps,mapDispatchToProps)(SchedulerContainer),ReduxFilterContainer=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.b)(mapStateToProps,mapDispatchToProps)(Filter),ReduxLocationSelector=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.b)(mapStateToProps,mapDispatchToProps)(LocationSelector),store=Object(redux__WEBPACK_IMPORTED_MODULE_6__.createStore)(schedulerReducer,"undefined"!==typeof window?window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__():void 0);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_7__.a,{store:store,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(ReduxSchedulerContainer,{})})},_unused_webpack_default_export=ScheduleOld},276:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(24),s=a.n(c),o=a(19),_=a(89),i=a(178),l=a(179),u=a(17),d="USER_LOGIN_REQUEST",p="USER_LOGIN_SUCCESS",O="USER_LOGIN_FAIL",j="USER_LOGIN_ERROR_CLEAR",m="USER_LOGOUT",b="USER_REGISTER_REQUEST",h="USER_REGISTER_SUCCESS",E="USER_REGISTER_ERROR_CLEAR",f="USER_REGISTER_FAIL",D="USER_DETAILS_REQUEST",x="USER_DETAILS_SUCCESS",g="USER_DETAILS_FAIL",y="USER_DETAILS_RESET",C="USER_UPDATE_PROFILE_REQUEST",v="USER_UPDATE_PROFILE_SUCCESS",R="USER_UPDATE_PROFILE_FAIL",P="USER_UPDATE_PROFILE_RESET",S="USER_LIST_REQUEST",w="USER_LIST_SUCCESS",T="USER_LIST_FAIL",L="USER_LIST_RESET",A="USER_DELETE_REQUEST",I="USER_DELETE_SUCCESS",M="USER_DELETE_FAIL",U="USER_UPDATE_REQUEST",B="USER_UPDATE_SUCCESS",k="USER_UPDATE_FAIL",N="USER_UPDATE_RESET",W="ROTA_SET_RUNNING",K="ROTA_STOP_RUNNING",F="ROTA_SET_SHEET",H="ROTA_SET_SHEET_NAME",V="ROTA_SHEET_VALID",G="ROTA_SET_LOCKED",q="ROTA_APPEND_MESSAGE",z="ROTA_CLEAR_MESSAGE",J="ROTA_CLEAR_COUNT",Q="ROTA_INC_COUNT",X="ROTA_SET_SCHEDULE",Z="ROTA_FILTER_SCHEDULE",Y="ROTA_FILTER_SCHEDULE_ID",$="ROTA_CLEAR_FILTER_SCHEDULE",ee="ROTA_CLEAR_FILTER_SCHEDULE_ID",te="ROTA_SCHEDULE_DATE",ae="ROTA_SCHEDULE_VIEW_NAME",re="SHEET_ADD_REQUEST",ne="SHEET_ADD_SUCCESS",ce="SHEET_ADD_ERROR_CLEAR",se="SHEET_ADD_FAIL",oe="SHEET_DETAILS_REQUEST",_e="SHEET_DETAILS_SUCCESS",ie="SHEET_DETAILS_FAIL",le="SHEET_DETAILS_RESET",ue="SHEET_UPDATE_REQUEST",de="SHEET_UPDATE_SUCCESS",pe="SHEET_UPDATE_FAIL",Oe="SHEET_UPDATE_RESET",je="SHEET_LIST_REQUEST",me="SHEET_LIST_SUCCESS",be="SHEET_LIST_FAIL",he="SHEET_LIST_RESET",Ee="SHEET_DELETE_REQUEST",fe="SHEET_DELETE_SUCCESS",De="SHEET_DELETE_FAIL",xe=a(94),ge=Object(_.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0};case p:return{loading:!1,userInfo:t.payload};case O:return{loading:!1,error:t.payload};case j:return{loading:!1,userInfo:t.payload};case m:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{loading:!0};case h:return{loading:!1,userInfo:t.payload};case f:return{loading:!1,error:t.payload};case E:return{loading:!1};case m:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case x:return{loading:!1,user:t.payload};case g:return{loading:!1,error:t.payload};case y:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case v:return{loading:!1,success:!0,userInfo:t.payload};case R:return{loading:!1,error:t.payload};case P:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case w:return{loading:!1,users:t.payload};case T:return{loading:!1,error:t.payload};case L:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0};case I:return{loading:!1,success:!0};case M:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case B:return{loading:!1,success:!0};case k:return{loading:!1,error:t.payload};case N:return{user:{}};default:return e}},rota:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(u.a)(Object(u.a)({},e),{},{sheet:t.payload,locked:!0,count:0});case H:return Object(u.a)(Object(u.a)({},e),{},{name:t.payload});case V:return Object(u.a)(Object(u.a)({},e),{},{valid:t.payload});case G:return Object(u.a)(Object(u.a)({},e),{},{locked:t.payload});case W:return Object(u.a)(Object(u.a)({},e),{},{running:!0});case K:return Object(u.a)(Object(u.a)({},e),{},{running:!1});case J:return Object(u.a)(Object(u.a)({},e),{},{count:0});case X:return Object(u.a)(Object(u.a)({},e),{},{schedule:JSON.parse(t.payload).schedule,filtered:JSON.parse(t.payload).schedule,staff:JSON.parse(t.payload).staff,shift:JSON.parse(t.payload).shift});case Z:return Object(u.a)(Object(u.a)({},e),{},{filtered:t.payload});case $:return Object(u.a)(Object(u.a)({},e),{},{filtered:e.schedule});case Y:return Object(u.a)(Object(u.a)({},e),{},{filteredId:t.payload});case ee:return Object(u.a)(Object(u.a)({},e),{},{filteredId:""});case te:return Object(u.a)(Object(u.a)({},e),{},{scheduleDate:t.payload});case ae:return Object(u.a)(Object(u.a)({},e),{},{scheduleViewName:t.payload});case Q:return Object(u.a)(Object(u.a)({},e),{},{count:e.count+1});case q:return Object(u.a)(Object(u.a)({},e),{},{message:[].concat(Object(xe.a)(e.message),[t.payload])});case z:return Object(u.a)(Object(u.a)({},e),{},{message:[]});default:return e}},sheetAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{loading:!0};case ne:return{loading:!1,sheetInfo:t.payload};case se:return{loading:!1,error:t.payload};case ce:return{loading:!1};default:return e}},sheetDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sheet:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case _e:return{loading:!1,sheet:t.payload};case ie:return{loading:!1,error:t.payload};case le:return{sheet:{}};default:return e}},sheetUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case de:return{loading:!1,success:!0,sheetInfo:t.payload};case pe:return{loading:!1,error:t.payload};case Oe:return{};default:return e}},sheetList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sheets:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return{loading:!0};case me:return{loading:!1,sheets:t.payload};case be:return{loading:!1,error:t.payload};case he:return{sheets:[]};default:return e}},sheetDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{loading:!0};case fe:return{loading:!1,success:!0};case De:return{loading:!1,error:t.payload};default:return e}}}),ye={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Ce=[i.a],ve=Object(_.createStore)(ge,ye,Object(l.composeWithDevTools)(_.applyMiddleware.apply(void 0,Ce))),Re=(a(210),a(211),a(58)),Pe=a(36),Se=a(341),we=a(326),Te=a(340),Le=a(335),Ae=a(61),Ie=a(18),Me=a.n(Ie),Ue=a(29),Be=a(40),ke=a.n(Be),Ne=function(){return function(e){localStorage.removeItem("userInfo"),e({type:m}),e({type:y}),e({type:L}),document.location.href="/login"}},We=function(e){return function(){var t=Object(Ue.a)(Me.a.mark((function t(a,r){var n,c,s,o,_,i;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:D}),n=r(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,ke.a.get("/api/users/".concat(e),s);case 6:o=t.sent,_=o.data,a({type:x,payload:_}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Ne()),a({type:g,payload:i});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},Ke=a(3),Fe=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.userLogin})).userInfo;return Object(Ke.jsx)("header",{children:Object(Ke.jsx)(Se.a,{bg:"light",expand:"lg",children:Object(Ke.jsxs)(we.a,{children:[Object(Ke.jsx)(Se.a.Brand,{children:"Rota"}),Object(Ke.jsx)(Se.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Ke.jsx)(Se.a.Collapse,{id:"basic-navbar-nav",children:Object(Ke.jsxs)(Te.a,{className:"ms-auto",children:[Object(Ke.jsx)(Ae.LinkContainer,{to:"/",children:Object(Ke.jsxs)(Te.a.Link,{children:[Object(Ke.jsx)("i",{className:"fas fa-home pe-1"})," Home"]})}),t?Object(Ke.jsxs)(Le.a,{title:t.name,id:"username",children:[Object(Ke.jsx)(Ae.LinkContainer,{to:"/profile",children:Object(Ke.jsx)(Le.a.Item,{children:"Profile"})}),Object(Ke.jsx)(Le.a.Item,{onClick:function(){e(Ne())},children:"Logout"})]}):Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)(Ae.LinkContainer,{to:"/login",children:Object(Ke.jsxs)(Te.a.Link,{children:[Object(Ke.jsx)("i",{className:"fas fa-user pe-1"})," Login"]})}),Object(Ke.jsx)(Ae.LinkContainer,{to:"/register",children:Object(Ke.jsxs)(Te.a.Link,{children:[Object(Ke.jsx)("i",{className:"fas fa-registered pe-1"})," Register"]})})]}),t&&t.isAdmin&&Object(Ke.jsxs)(Le.a,{title:"Admin",id:"adminmenu",children:[Object(Ke.jsx)(Ae.LinkContainer,{to:"/admin/userlist",children:Object(Ke.jsx)(Le.a.Item,{children:"Users"})}),Object(Ke.jsx)(Ae.LinkContainer,{to:"/admin/sheetnew",children:Object(Ke.jsx)(Le.a.Item,{children:"Add Sheet"})})]})]})})]})})})},He=a(327),Ve=a(183),Ge=function(){return Object(Ke.jsx)("footer",{children:Object(Ke.jsx)(we.a,{children:Object(Ke.jsx)(He.a,{children:Object(Ke.jsx)(Ve.a,{className:"text-center py-3",children:"Copyright \xa9 2021"})})})})},qe=function(e){var t=e.children;return Object(Ke.jsx)(we.a,{children:Object(Ke.jsx)(He.a,{className:"justify-content-md-center",children:Object(Ke.jsx)(Ve.a,{xs:12,md:12,children:t})})})},ze=a(182),Je=a(342),Qe=function(e){var t=e.variant,a=e.children;return Object(Ke.jsx)(Je.a,{variant:t,children:a})};Qe.defaultProps={variant:"info"};var Xe=Qe,Ze=a(328),Ye=function(){return Object(Ke.jsx)(Ze.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(Ke.jsx)("span",{className:"sr-only",children:"Loading..."})})},$e=a(184),et=a.n($e),tt=function(e){var t=e.history,a=Object(o.c)(),n=Object(o.d)((function(e){return e.userLogin})).userInfo,c=Object(o.d)((function(e){return e.sheetList})),s=c.loading,_=c.error,i=c.sheets,l=Object(o.d)((function(e){return e.sheetDelete})).success;Object(r.useEffect)((function(){n?a(function(){var e=Object(Ue.a)(Me.a.mark((function e(t,a){var r,n,c,s,o,_;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:je}),r=a(),n=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,ke.a.get("/api/sheets",c);case 6:s=e.sent,o=s.data,t({type:me,payload:o}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),_=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:be,payload:_});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,l,n]);var u=function(e){console.log(e),window.confirm("Are you sure")&&(a(function(e){return function(){var t=Object(Ue.a)(Me.a.mark((function t(a,r){var n,c,s,o;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ee}),n=r(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,ke.a.delete("/api/sheets/".concat(e),s);case 6:a({type:fe}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,a({type:De,payload:o});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e)),a({type:le}))},d={onClick:function(e,t,r){var n;console.log("clicked on row with index: ".concat(r)),console.log(i[r]),e.target.cellIndex<2&&a((n=i[r]._id,function(){var e=Object(Ue.a)(Me.a.mark((function e(t,a){var r,c,s,o,_,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:oe}),r=a(),c=r.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,ke.a.get("/api/sheets/".concat(n),s);case 6:o=e.sent,_=o.data,t({type:_e,payload:_}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:ie,payload:i});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()))}},p=[{dataField:"name",text:"Name",style:{whiteSpace:"wrap",textOverlow:"clip"},headerStyle:function(e,t){return{width:"50%"}}},{dataField:"isPublished",text:"Published",style:{textAlign:"center"},headerStyle:function(e,t){return{width:"10%",textAlign:"center"}},formatter:function(e,t){return e?Object(Ke.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Ke.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}},{dataField:"Edit",text:"Edit",formatter:function(e,t){return Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)(Ae.LinkContainer,{to:"/admin/sheets/".concat(t._id,"/edit"),children:Object(Ke.jsx)(ze.a,{variant:"light",className:"btn-sm",children:Object(Ke.jsx)("i",{className:"fas fa-edit"})})}),Object(Ke.jsx)(ze.a,{variant:"danger",className:"btn-sm",onClick:function(){return u(t._id)},children:Object(Ke.jsx)("i",{className:"fas fa-trash"})})]})},style:{textAlign:"center"},headerStyle:function(e,t){return{width:"10%",textAlign:"center"}}}];return Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)("h2",{children:"List of Rotas"}),s?Object(Ke.jsx)(Ye,{}):_?Object(Ke.jsx)(Xe,{variant:"danger",children:_}):Object(Ke.jsx)(et.a,{keyField:"name",data:i,columns:p,striped:!0,hover:!0,rowEvents:d})]})},at=a(337),rt=function(e,t){return console.log(t),e({type:"ROTA_FAIL",payload:t.response&&t.response.data.message?t.response.data.message:t.message})},nt=function(){return function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:z})}catch(a){rt(t,a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ct=function(e){return function(){var t=Object(Ue.a)(Me.a.mark((function t(a){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log("msg : ".concat(e)),e&&a({type:q,payload:e})}catch(r){rt(a,r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},st=function(e){return function(){var t=Object(Ue.a)(Me.a.mark((function t(a){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e&&a({type:X,payload:JSON.parse(JSON.stringify(e))})}catch(r){rt(a,r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ot=function(){return function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:W})}catch(a){rt(t,a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_t=function(e){return function(){var t=Object(Ue.a)(Me.a.mark((function t(a){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:F,payload:e})}catch(r){rt(a,r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},it=function(e){return function(){var t=Object(Ue.a)(Me.a.mark((function t(a){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:V,payload:e})}catch(r){rt(a,r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},lt=function(){return function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:J})}catch(a){rt(t,a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ut=function(){return function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:Q})}catch(a){rt(t,a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dt=function(e){return function(t){var a;t(lt()),t(function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:K})}catch(a){rt(t,a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t((a="TRUE"===e.locked,function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:G,payload:a})}catch(r){rt(t,r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),"TRUE"===e.locked?(console.log("sheet locked"),t(ct("Sheet is LOCKED"))):(console.log("sheet unlocked"),t(ct("Sheet is UNLOCKED"))),t(it(!0))}},pt=function(e){var t=Object(o.c)(),a=(Object(o.d)((function(e){return e.userLogin})).userInfo,Object(o.d)((function(e){return e.rota}))),n=Object(o.d)((function(e){return e.sheetDetails})),c=(n.loading,n.error,n.sheet);Object(r.useEffect)((function(){console.log("rota count ".concat(a.count));var e=function(){t(function(){var e=Object(Ue.a)(Me.a.mark((function e(t,a){var r,n,c,s,o,_;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a(),n=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=5,ke.a.get("/api/rota/status",c);case 5:s=e.sent,o=s.data,console.log(o),o.running?t(ut()):t(dt(o)),""!==o.message&&t(ct(o.message)),o.scheduleData&&""!==o.scheduleData&&t(st(o.scheduleData)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),_=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:q,payload:_});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}())};if(a.running&&a.count>0){setTimeout((function(){return e()}),1e3)}else console.log("running is false")}),[a.count,a.running,t]),Object(r.useEffect)((function(){console.log("screen refresh"),t(it(!1))}),[t]);return Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)("h2",{children:"Update Rota"}),Object(Ke.jsxs)(at.a,{onSubmit:function(e){var a;e.preventDefault(),t(it(!1)),t(nt()),t(_t(c.sheet)),t((a=c.name,function(){var e=Object(Ue.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:H,payload:a})}catch(r){rt(t,r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t(function(){var e=Object(Ue.a)(Me.a.mark((function e(t,a){var r,n,c,s,o,_,i,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("verfy sheet"),t(lt()),t(nt()),t(ot()),t(it(!1)),r=a(),n=r.userLogin.userInfo,c=r.rota,s={headers:{Authorization:"Bearer ".concat(n.token)}},o=new RegExp("/spreadsheets/d/([a-zA-Z0-9-_]+)").exec(c.sheet)[1],console.log(o),e.next=12,ke.a.post("/api/rota/verify",{sheet:o},s);case 12:_=e.sent,i=_.data,console.log(i),i.running?(t(ut()),t(it(!1)),""!==i.message&&t(ct(i.message))):t(dt(i)),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:q,payload:l});case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}())},children:[Object(Ke.jsxs)(at.a.Group,{controlId:"name",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Rota Name"}),Object(Ke.jsx)(at.a.Control,{type:"name",placeholder:"Enter rota name",value:c.name||"",readOnly:!0})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"sheet",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Sheet URL"}),Object(Ke.jsx)(at.a.Control,{type:"sheet",placeholder:"Sheet URL",value:c.sheet||"",readOnly:!0})]}),Object(Ke.jsx)(ze.a,{className:"my-3 me-3",disabled:a.running||!c.sheet,variant:"primary",onClick:function(){return window.open(c.sheet,"_blank")},children:"Open Sheet"}),Object(Ke.jsx)(ze.a,{className:"my-3",type:"submit",disabled:a.running||!c.sheet,variant:"primary",children:a.valid?a.locked?Object(Ke.jsx)("i",{className:"fas fa-lock",children:" Reverify Sheet"}):Object(Ke.jsx)("i",{className:"fas fa-unlock",children:" Reverify Sheet"}):"Verify Sheet"})]}),Object(Ke.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),t(function(){var e=Object(Ue.a)(Me.a.mark((function e(t,a){var r,n,c,s,o,_,i,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("run sheet"),t(lt()),t(ot()),r=a(),n=r.userLogin.userInfo,c=r.rota,s={headers:{Authorization:"Bearer ".concat(n.token)}},o=new RegExp("/spreadsheets/d/([a-zA-Z0-9-_]+)").exec(c.sheet)[1],console.log(o),e.next=10,ke.a.post("/api/rota/run",{sheet:o,locked:c.locked?"true":"false"},s);case 10:_=e.sent,i=_.data,console.log(i),i.running?(t(ut()),""!==i.message&&t(ct(i.message))):t(dt(i)),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:q,payload:l});case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a){return e.apply(this,arguments)}}())},children:[Object(Ke.jsx)(ze.a,{className:"my-3",disabled:a.running||!a.valid,type:"submit",variant:"primary",children:a.locked?"Generate Metrics":"Run"}),Object(Ke.jsx)(at.a.Control,{as:"textarea",placeholder:"Leave a comment here",style:{height:"300px"},value:a.message.join("\n"),onChange:function(e){return null}})]})]})},Ot=a(83),jt=a(279),mt=a(333),bt=a(10),ht=a(34),Et=a(280),ft=a(192),Dt=a(6),xt=a(35),gt=a(26),yt=["children","classes"],Ct=["classes"],vt=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.rota})),c=function(e){var t=e.spacing,a=e.palette;return{flexibleSpace:{margin:"10px auto",display:"flex",flexWrap:"wrap",alignItems:"center",minHeight:"100px"},textField:{width:"75px",marginLeft:t(1),marginTop:0,marginBottom:0,height:t(4.875)},locationSelector:{marginLeft:t(1),display:"flex",flexWrap:"wrap",alignItems:"center",height:t(4.875),width:"500px"},button:{paddingLeft:t(1),paddingRight:t(1),width:t(10),"@media (max-width: 800px)":{width:t(2),fontSize:"0.75rem"}},selectedButton:{background:a.primary[400],color:a.primary[50],"&:hover":{backgroundColor:a.primary[500]},border:"1px solid ".concat(a.primary[400],"!important"),borderLeft:"1px solid ".concat(a.primary[50],"!important"),"&:first-child":{borderLeft:"1px solid ".concat(a.primary[50],"!important")}},longButtonText:{"@media (max-width: 800px)":{display:"none"}},shortButtonText:{"@media (min-width: 800px)":{display:"none"}},title:{fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},textContainer:{lineHeight:1,whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},time:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"},text:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},container:{width:"100%"},weekendCell:{backgroundColor:Object(xt.fade)(a.action.disabledBackground,.04),"&:hover":{backgroundColor:Object(xt.fade)(a.action.disabledBackground,.04)},"&:focus":{backgroundColor:Object(xt.fade)(a.action.disabledBackground,.04)}},weekEnd:{backgroundColor:Object(xt.fade)(a.action.disabledBackground,.06)}}},s=(Object(bt.a)(c,{name:"Toolbar"})((function(e){var t=e.children,a=e.classes,r=Object(Ot.a)(e,yt);return Object(Ke.jsxs)("div",{className:a.toolbarRoot,children:[Object(Ke.jsx)(gt.j.Root,Object(u.a)(Object(u.a)({},r),{},{children:t})),Object(Ke.jsx)(mt.a,{className:a.progress})]})})),[{fieldName:"staff",title:"Staff",instances:a.staff||[]},{fieldName:"shift",title:"Shift",instances:a.shift||[]}]),_=n.a.useCallback((function(e){return t({type:ae,payload:e})}),[t]),i=n.a.useCallback((function(e){return t({type:te,payload:e})}),[t]);Object(r.useEffect)((function(){i("2021-10-23"),_("Week")}),[i,_]);var l=function(e,t,a){return e.indexOf(a)>-1&&t.selectedButton},d=Object(bt.a)(c,{name:"FlexibleSpace"})((function(e){var t=e.classes,a=Object(Ot.a)(e,Ct);return Object(Ke.jsx)(gt.j.FlexibleSpace,Object(u.a)(Object(u.a)({},a),{},{className:t.flexibleSpace,children:Object(Ke.jsx)(O,{})}))})),p=Object(bt.a)(c,{name:"LocationSelector"})((function(e){var t=e.onStaffIdChange,a=e.staff,r=e.classes;return a?Object(Ke.jsx)(Et.a,{className:r.locationSelector,children:a.map((function(e,c){return Object(Ke.jsx)(ft.a,{className:Object(Dt.a)(r.button,l(a,r,e.id)),onClick:function(){return t(function(e,t){var a=t.map((function(e){return e.id}));if(a.indexOf(e)>-1)return console.log(a.filter((function(t){return t===e}))),a.filter((function(t){return t===e}));var r=Object(xe.a)(t);return r.push(e),r}(e.id,a))},children:Object(Ke.jsxs)(n.a.Fragment,{children:[Object(Ke.jsx)("span",{className:r.shortButtonText,children:a[c].name}),Object(Ke.jsx)("span",{className:r.longButtonText,children:a[c].id})]})},e.id)}))}):null})),O=Object(o.b)((function(e){if(e.rota.schedule){var t=e.rota.staff;return Object(u.a)(Object(u.a)({},e),{},{staff:t})}return Object(u.a)({},e)}),(function(e){return{onStaffIdChange:function(t){if(a.filteredId===t[0])e({type:$}),e({type:ee});else{var r=a.schedule.filter((function(e){return e.staff===t[0]}));console.log(r),e({type:Z,payload:r}),e({type:Y,payload:t[0]})}}}}))(p);return Object(Ke.jsx)(jt.a,{children:Object(Ke.jsxs)(gt.h,{data:a.filtered,height:660,children:[Object(Ke.jsx)(ht.q,{currentDate:a.scheduleDate,currentViewName:a.scheduleViewName,onCurrentViewNameChange:_,onCurrentDateChange:i}),Object(Ke.jsx)(gt.e,{startDayHour:0,endDayHour:24}),Object(Ke.jsx)(gt.l,{startDayHour:0,endDayHour:24}),Object(Ke.jsx)(gt.f,{}),Object(Ke.jsx)(gt.c,{}),Object(Ke.jsx)(gt.g,{data:s}),Object(Ke.jsx)(gt.j,{flexibleSpaceComponent:d}),Object(Ke.jsx)(gt.d,{}),Object(Ke.jsx)(gt.i,{}),Object(Ke.jsx)(gt.k,{}),Object(Ke.jsx)(gt.b,{showOpenButton:!0,showCloseButton:!0}),Object(Ke.jsx)(gt.a,{readOnly:!0})]})})},Rt=(a(274),function(e){var t=Object(o.d)((function(e){return e.userLogin})).userInfo,a=Object(o.d)((function(e){return e.sheetDetails})),n=(a.loading,a.error,a.sheet),c=Object(o.c)(),s=Object(o.d)((function(e){return e.rota}));return Object(r.useEffect)((function(){t.isAdmin||n.sheet&&(console.log("get schedule"),c(function(){var e=Object(Ue.a)(Me.a.mark((function e(t,a){var r,n,c,s,o,_,i,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("get rota schedule"),t(lt()),t(nt()),t(ot()),r=a(),n=r.userLogin.userInfo,c=r.sheetDetails.sheet,s={headers:{Authorization:"Bearer ".concat(n.token)}},console.log(c),o=new RegExp("/spreadsheets/d/([a-zA-Z0-9-_]+)").exec(c.sheet)[1],console.log(o),e.next=12,ke.a.post("/api/rota/schedule",{sheet:o},s);case 12:_=e.sent,i=_.data,console.log(i),i.running?(t(ut()),""!==i.message&&t(ct(i.message))):t(dt(i)),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:q,payload:l});case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}()))}),[t.isAdmin,n.sheet,c]),Object(Ke.jsxs)(qe,{children:[s.running&&Object(Ke.jsxs)(Xe,{variant:"info",children:["Running : ",s.count,"s"]}),Object(Ke.jsx)(tt,{}),t.isAdmin?Object(Ke.jsx)(pt,{}):Object(Ke.jsx)(vt,{})]})}),Pt=function(){var e=Object(o.d)((function(e){return e.userLogin})).userInfo;return Object(Ke.jsx)("div",{className:"homepage",children:e?Object(Ke.jsx)(Rt,{}):Object(Ke.jsx)("img",{src:"https://source.unsplash.com/1600x900/?nature,water",alt:"homepage pic"})})},St=a(32),wt=function(e){var t=e.location,a=e.history,n=Object(r.useState)(""),c=Object(St.a)(n,2),s=c[0],_=c[1],i=Object(r.useState)(""),l=Object(St.a)(i,2),u=l[0],m=l[1],b=Object(o.c)(),h=Object(o.d)((function(e){return e.userLogin})),E=h.loading,f=h.error,D=h.userInfo,x=t.search?t.search.split("=")[1]:"/";Object(r.useEffect)((function(){D&&a.push(x)}),[a,D,x]),Object(r.useEffect)((function(){b({type:j})}),[b]);return Object(Ke.jsxs)(qe,{children:[Object(Ke.jsx)("h1",{children:"Sign In"}),f&&Object(Ke.jsx)(Xe,{variant:"danger",children:f}),E&&Object(Ke.jsx)(Ye,{}),Object(Ke.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),b(function(e,t){return function(){var a=Object(Ue.a)(Me.a.mark((function a(r){var n,c,s;return Me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:d}),n={headers:{"Content-Type":"application/json"}},a.next=5,ke.a.post("/api/users/login",{email:e,password:t},n);case 5:c=a.sent,s=c.data,r({type:p,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),r({type:O,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(s,u))},children:[Object(Ke.jsxs)(at.a.Group,{controlId:"email",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Email Address"}),Object(Ke.jsx)(at.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:function(e){return _(e.target.value)}})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"password",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Password"}),Object(Ke.jsx)(at.a.Control,{type:"password",placeholder:"Enter password",value:u,onChange:function(e){return m(e.target.value)}})]}),Object(Ke.jsx)(ze.a,{className:"my-3",type:"submit",variant:"primary",children:"Sign In"})]}),Object(Ke.jsx)(He.a,{className:"py-3",children:Object(Ke.jsxs)(Ve.a,{children:["New Customer?"," ",Object(Ke.jsx)(Re.Link,{to:x?"/register?redirect=".concat(x):"/register",children:"Register"})]})})]})},Tt=function(e){var t=e.location,a=e.history,n=Object(r.useState)(""),c=Object(St.a)(n,2),s=c[0],_=c[1],i=Object(r.useState)(""),l=Object(St.a)(i,2),u=l[0],d=l[1],O=Object(r.useState)(""),j=Object(St.a)(O,2),m=j[0],D=j[1],x=Object(r.useState)(""),g=Object(St.a)(x,2),y=g[0],C=g[1],v=Object(r.useState)(null),R=Object(St.a)(v,2),P=R[0],S=R[1],w=Object(o.c)(),T=Object(o.d)((function(e){return e.userRegister})),L=T.loading,A=T.error,I=T.userInfo,M=t.search?t.search.split("=")[1]:"/";Object(r.useEffect)((function(){I&&a.push(M)}),[a,I,M]),Object(r.useEffect)((function(){w({type:E})}),[w]);return Object(Ke.jsxs)(qe,{children:[Object(Ke.jsx)("h1",{children:"Register"}),P&&Object(Ke.jsx)(Xe,{variant:"danger",children:P}),A&&Object(Ke.jsx)(Xe,{variant:"danger",children:A}),L&&Object(Ke.jsx)(Ye,{}),Object(Ke.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),m!==y?S("Passwords do not match"):w(function(e,t,a){return function(){var r=Object(Ue.a)(Me.a.mark((function r(n){var c,s,o;return Me.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:b}),c={headers:{"Content-Type":"application/json"}},r.next=5,ke.a.post("/api/users/register",{name:e,email:t,password:a},c);case 5:s=r.sent,o=s.data,n({type:h,payload:o}),n({type:p,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0),n({type:f,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()}(u,s,m))},children:[Object(Ke.jsxs)(at.a.Group,{controlId:"name",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Name"}),Object(Ke.jsx)(at.a.Control,{type:"name",placeholder:"Enter name",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"email",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Email Address"}),Object(Ke.jsx)(at.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:function(e){return _(e.target.value)}})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"password",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Password"}),Object(Ke.jsx)(at.a.Control,{type:"password",placeholder:"Enter password",value:m,onChange:function(e){return D(e.target.value)}})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"confirmPassword",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Confirm Password"}),Object(Ke.jsx)(at.a.Control,{type:"password",placeholder:"Confirm password",value:y,onChange:function(e){return C(e.target.value)}})]}),Object(Ke.jsx)(ze.a,{className:"my-3",type:"submit",variant:"primary",children:"Regsiter"})]}),Object(Ke.jsx)(He.a,{className:"py-3",children:Object(Ke.jsxs)(Ve.a,{children:["Already Registered?"," ",Object(Ke.jsx)(Re.Link,{to:M?"/login?redirect=".concat(M):"/login",children:"Login"})]})})]})},Lt=function(e){e.location;var t=e.history,a=Object(r.useState)(""),n=Object(St.a)(a,2),c=n[0],s=n[1],_=Object(r.useState)(""),i=Object(St.a)(_,2),l=i[0],u=i[1],d=Object(r.useState)(""),O=Object(St.a)(d,2),j=O[0],m=O[1],b=Object(r.useState)(""),h=Object(St.a)(b,2),E=h[0],f=h[1],D=Object(r.useState)(null),x=Object(St.a)(D,2),g=x[0],y=x[1],S=Object(o.c)(),w=Object(o.d)((function(e){return e.userDetails})),T=w.loading,L=w.error,A=w.user,I=Object(o.d)((function(e){return e.userLogin})).userInfo,M=Object(o.d)((function(e){return e.userUpdateProfile})).success;Object(r.useEffect)((function(){I?A&&A.name&&!M?(s(A.name),u(A.email)):(S({type:P}),S(We("profile"))):t.push("/login")}),[S,t,I,A,M]);return Object(Ke.jsxs)(qe,{children:[Object(Ke.jsx)("h2",{children:"User Profile"}),g&&Object(Ke.jsx)(Xe,{variant:"danger",children:g}),M&&Object(Ke.jsx)(Xe,{variant:"success",children:"Profile Updated"}),T?Object(Ke.jsx)(Ye,{}):L?Object(Ke.jsx)(Xe,{variant:"danger",children:L}):Object(Ke.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),j!==E?y("Passwords do not match"):S(function(e){return function(){var t=Object(Ue.a)(Me.a.mark((function t(a,r){var n,c,s,o,_,i;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:C}),n=r(),c=n.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,ke.a.put("/api/users/profile",e,s);case 6:o=t.sent,_=o.data,a({type:v,payload:_}),a({type:p,payload:_}),localStorage.setItem("userInfo",JSON.stringify(_)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Ne()),a({type:R,payload:i});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:A._id,name:c,email:l,password:j}))},children:[Object(Ke.jsxs)(at.a.Group,{controlId:"name",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Name"}),Object(Ke.jsx)(at.a.Control,{type:"name",placeholder:"Enter name",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"email",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Email Address"}),Object(Ke.jsx)(at.a.Control,{type:"email",placeholder:"Enter email",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"password",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Password"}),Object(Ke.jsx)(at.a.Control,{type:"password",placeholder:"Enter password",value:j,onChange:function(e){return m(e.target.value)}})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"confirmPassword",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Confirm Password"}),Object(Ke.jsx)(at.a.Control,{type:"password",placeholder:"Confirm password",value:E,onChange:function(e){return f(e.target.value)}})]}),Object(Ke.jsx)(ze.a,{className:"my-3",type:"submit",variant:"primary",children:"Update"})]})]})},At=a(334),It=function(e){var t=e.history,a=Object(o.c)(),n=Object(o.d)((function(e){return e.userList})),c=n.loading,s=n.error,_=n.users,i=Object(o.d)((function(e){return e.userLogin})).userInfo,l=Object(o.d)((function(e){return e.userDelete})).success;Object(r.useEffect)((function(){i&&i.isAdmin?a(function(){var e=Object(Ue.a)(Me.a.mark((function e(t,a){var r,n,c,s,o,_;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:S}),r=a(),n=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,ke.a.get("/api/users",c);case 6:s=e.sent,o=s.data,t({type:w,payload:o}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(_=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Ne()),t({type:T,payload:_});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,l,i]);var u=function(e){window.confirm("Are you sure")&&a(function(e){return function(){var t=Object(Ue.a)(Me.a.mark((function t(a,r){var n,c,s,o;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:A}),n=r(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,ke.a.delete("/api/users/".concat(e),s);case 6:a({type:I}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Ne()),a({type:M,payload:o});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)("h1",{children:"Users"}),c?Object(Ke.jsx)(Ye,{}):s?Object(Ke.jsx)(Xe,{variant:"danger",children:s}):Object(Ke.jsxs)(At.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Ke.jsx)("thead",{children:Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("th",{children:"ID"}),Object(Ke.jsx)("th",{children:"NAME"}),Object(Ke.jsx)("th",{children:"EMAIL"}),Object(Ke.jsx)("th",{children:"ADMIN"}),Object(Ke.jsx)("th",{})]})}),Object(Ke.jsx)("tbody",{children:_.map((function(e){return Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("td",{children:e._id}),Object(Ke.jsx)("td",{children:e.name}),Object(Ke.jsx)("td",{children:Object(Ke.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(Ke.jsx)("td",{children:e.isAdmin?Object(Ke.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Ke.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ke.jsxs)("td",{children:[Object(Ke.jsx)(Ae.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(Ke.jsx)(ze.a,{variant:"light",className:"btn-sm",children:Object(Ke.jsx)("i",{className:"fas fa-edit"})})}),Object(Ke.jsx)(ze.a,{variant:"danger",className:"btn-sm",onClick:function(){return u(e._id)},children:Object(Ke.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},Mt=function(e){var t=e.match,a=e.history,n=t.params.id,c=Object(r.useState)(""),s=Object(St.a)(c,2),_=s[0],i=s[1],l=Object(r.useState)(""),u=Object(St.a)(l,2),d=u[0],p=u[1],O=Object(r.useState)(!1),j=Object(St.a)(O,2),m=j[0],b=j[1],h=Object(o.c)(),E=Object(o.d)((function(e){return e.userDetails})),f=E.loading,D=E.error,g=E.user,C=Object(o.d)((function(e){return e.userUpdate})),v=C.loading,R=C.error,P=C.success;Object(r.useEffect)((function(){P?(h({type:N}),a.push("/admin/userlist")):g.name&&g._id===n?(i(g.name),p(g.email),b(g.isAdmin)):h(We(n))}),[h,a,n,g,P]);return Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)(Re.Link,{to:"/admin/userlist",className:"btn btn-light my-3",children:"Go Back"}),Object(Ke.jsxs)(qe,{children:[Object(Ke.jsx)("h1",{children:"Edit User"}),v&&Object(Ke.jsx)(Ye,{}),R&&Object(Ke.jsx)(Xe,{variant:"danger",children:R}),f?Object(Ke.jsx)(Ye,{}):D?Object(Ke.jsx)(Xe,{variant:"danger",children:D}):Object(Ke.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),h(function(e){return function(){var t=Object(Ue.a)(Me.a.mark((function t(a,r){var n,c,s,o,_,i;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:U}),n=r(),c=n.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,ke.a.put("/api/users/".concat(e._id),e,s);case 6:o=t.sent,_=o.data,a({type:B}),a({type:x,payload:_}),a({type:y}),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Ne()),a({type:k,payload:i});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:n,name:_,email:d,isAdmin:m}))},children:[Object(Ke.jsxs)(at.a.Group,{controlId:"name",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Name"}),Object(Ke.jsx)(at.a.Control,{type:"name",placeholder:"Enter name",value:_,onChange:function(e){return i(e.target.value)}})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"email",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Email Address"}),Object(Ke.jsx)(at.a.Control,{type:"email",placeholder:"Enter email",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(Ke.jsx)(at.a.Group,{className:"my-2",controlId:"isadmin",children:Object(Ke.jsx)(at.a.Check,{type:"checkbox",label:"Is Admin",checked:m,onChange:function(e){return b(e.target.checked)}})}),Object(Ke.jsx)(ze.a,{className:"my-2",type:"submit",variant:"primary",children:"Update"})]})]})]})},Ut=function(e){var t=e.location,a=e.history,n=Object(r.useState)(""),c=Object(St.a)(n,2),s=c[0],_=c[1],i=Object(r.useState)(""),l=Object(St.a)(i,2),u=l[0],d=l[1],p=Object(r.useState)(null),O=Object(St.a)(p,2),j=O[0],m=(O[1],Object(o.c)()),b=Object(o.d)((function(e){return e.sheetAdd})),h=b.loading,E=b.error,f=b.sheetInfo,D=t.search?t.search.split("=")[1]:"/";Object(r.useEffect)((function(){f&&a.push(D)}),[a,f,D]),Object(r.useEffect)((function(){m({type:ce})}),[m]);return Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)("h2",{children:"Add New Sheet"}),j&&Object(Ke.jsx)(Xe,{variant:"danger",children:j}),E&&Object(Ke.jsx)(Xe,{variant:"danger",children:E}),h&&Object(Ke.jsx)(Ye,{}),Object(Ke.jsxs)(at.a,{onSubmit:function(e){e.preventDefault(),m(function(e,t,a){return function(){var r=Object(Ue.a)(Me.a.mark((function r(n,c){var s,o,_,i,l;return Me.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:re}),s=c(),o=s.userLogin.userInfo,_={headers:{Authorization:"Bearer ".concat(o.token)}},r.next=6,ke.a.post("/api/sheets/add",{name:e,sheet:t,isPublished:a},_);case 6:i=r.sent,l=i.data,n({type:ne,payload:l}),localStorage.setItem("sheetInfo",JSON.stringify(l)),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0),n({type:se,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e,t){return r.apply(this,arguments)}}()}(u,s,!1))},children:[Object(Ke.jsxs)(at.a.Group,{controlId:"name",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Rota Name"}),Object(Ke.jsx)(at.a.Control,{type:"name",placeholder:"Enter rota name",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(Ke.jsxs)(at.a.Group,{controlId:"sheet",children:[Object(Ke.jsx)(at.a.Label,{className:"my-2",children:"Sheet URL"}),Object(Ke.jsx)(at.a.Control,{type:"sheet",placeholder:"Sheet URL",value:s,onChange:function(e){return _(e.target.value)}})]}),Object(Ke.jsx)(ze.a,{className:"my-3",type:"submit",variant:"primary",children:"Add"})]})]})},Bt=function(){return Object(Ke.jsxs)(Re.BrowserRouter,{children:[Object(Ke.jsx)(Fe,{}),Object(Ke.jsx)("main",{className:"py-3",children:Object(Ke.jsxs)(we.a,{children:[Object(Ke.jsx)(Pe.d,{path:"/",component:Pt,exact:!0}),Object(Ke.jsx)(Pe.d,{path:"/register",component:Tt}),Object(Ke.jsx)(Pe.d,{path:"/login",component:wt}),Object(Ke.jsx)(Pe.d,{path:"/profile",component:Lt}),Object(Ke.jsx)(Pe.d,{path:"/admin/userlist",component:It}),Object(Ke.jsx)(Pe.d,{path:"/admin/sheetnew",component:Ut}),Object(Ke.jsx)(Pe.d,{path:"/admin/user/:id/edit",component:Mt})]})}),Object(Ke.jsx)(Ge,{})]})};a(275);s.a.render(Object(Ke.jsx)(o.a,{store:ve,children:Object(Ke.jsx)(Bt,{})}),document.getElementById("root"))}},[[276,1,2]]]);
//# sourceMappingURL=main.5380e020.chunk.js.map